# 虚拟内存 与 内存分页机制

目前我们直接在内存分段下进行工作，运行程序只有一个loader，并没有出现什么问题。但是试想一下，如果有多个程序运行，内存无法容纳新的进程，或者之前运行后被换出到硬盘中的内存段重新装到内存时没有连续的空间了该怎么办呢？

![dbd86dcc-51aa-431a-93ba-46bbfe372664](file:///C:/Users/cs_ca/Pictures/Typedown/dbd86dcc-51aa-431a-93ba-46bbfe372664.png)

+ 可以等待C完成后腾出空间去运行D（但是要等待C完成）

+ 也可以将段A3或者段C1换出到硬盘上（硬盘速度很慢）

导致这个问题的根本就是现在的内存地址是连续的线性地址，如果解除这种连续的映射关系，则可以解决这个问题。CPU种为了解决该问题，提供了页表功能。

____

## 一、一级页表

为了解除这种线性的映射关系，我们引出了页表的概念，从一级页表入手。一级页表的结构如下：

<img src="file:///C:/Users/cs_ca/Pictures/Typedown/e7e412a3-cec9-493b-906b-5db627f4e4f1.png" title="" alt="e7e412a3-cec9-493b-906b-5db627f4e4f1" data-align="center">


